{"version":3,"file":"static/js/673.08c8b459.chunk.js","mappings":"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","sources":["shared/hooks/useForm.js","webpack://goit-react-hw-05-movies/./src/components/Form/form.module.scss?1ee0","components/Form/Form.jsx","Pages/MoviesPage/MoviesPage.jsx","webpack://goit-react-hw-05-movies/./src/components/Container/container.module.scss?bf1c","components/Container/Container.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/movies-list.module.scss?e0f1","components/MoviesList/MoviesList.jsx","shared/api/getMoviesAPI.js","shared/services/notification.js"],"sourcesContent":["import { useState } from 'react';\n\nconst useForm = (initialState, onSubmit) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handleInput = ({ target }) => {\n    const { id, type, checked, value } = target;\n    setState(prevState => ({\n      ...prevState,\n      [id]: type === 'chekbox' ? checked : value,\n    }));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ ...initialState });\n  };\n\n  return { state, handleInput, handleSubmit };\n};\n\nexport default useForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"form_form__sP2jI\",\"field\":\"form_field__jrLEC\",\"btn\":\"form_btn__5P0ba\"};","import useForm from 'shared/hooks/useForm';\nimport {PropTypes} from 'prop-types'\nimport { ImSearch } from 'react-icons/im';\nimport styles from './form.module.scss';\n\nconst Form = ({ onSubmit }) => {\n  const { state, handleInput, handleSubmit } = useForm(\n    { search: '' },\n    onSubmit\n  );\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <input\n        className={styles.field}\n        onChange={handleInput}\n        type=\"text\"\n        value={state.search}\n        id=\"search\"\n        required\n      />\n      <button className={styles.btn} type=\"submit\">\n        <ImSearch />\n      </button>\n    </form>\n  );\n};\n\nexport default Form;\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMoviesBySearchQuery } from 'shared/api/getMoviesAPI';\nimport notification from 'shared/services/notification';\nimport { ToastContainer } from 'react-toastify';\nimport Form from 'components/Form/Form';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport Container from 'components/Container/Container';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n\n  useEffect(() => {\n    const fetchMoviesSearch = async () => {\n      try {\n        const { data } = await getMoviesBySearchQuery(search);\n        if (data.results.length === 0) {\n          notification('Please enter a valid query.');\n        }\n        setMovies(data.results);\n      } catch (error) {\n        notification('Please enter a valid query.');\n      }\n    };\n    if (search) {\n      fetchMoviesSearch();\n    }\n  }, [search]);\n\n  const onFormSubmit = ({ search }) => {\n    if (search.trim() === '') {\n      notification('Please enter a valid query.');\n      return;\n    }\n    setSearchParams({ search });\n  };\n\n  return (\n    <main>\n      <Container>\n        <Form onSubmit={onFormSubmit} />\n        {movies !== [] && <MoviesList items={movies} />}\n      </Container>\n      <ToastContainer />\n    </main>\n  );\n};\n\nexport default MoviesPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"container_container__UUJsT\"};","import {PropTypes} from 'prop-types'\nimport styles from './container.module.scss';\n\nconst Container = ({ children }) => {\n  return <div className={styles.container}>{children}</div>;\n};\n\nexport default Container;\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n}","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movies-list_list__Svv1y\",\"moviePoster\":\"movies-list_moviePoster__RGT2L\"};","import { Link, useLocation } from 'react-router-dom';\nimport {PropTypes} from 'prop-types'\nimport placeholder from '../../images/posterPlaceholder.jpg';\nimport styles from './movies-list.module.scss';\n\nexport const imgURL = 'https://image.tmdb.org/t/p/original/';\n\nconst MoviesList = ({ items = [] }) => {\n  const location = useLocation();\n  const element = items.map(({ id, poster_path, title, name }) => (\n    <li key={id}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <img\n          className={styles.moviePoster}\n          src={poster_path ? `${imgURL}${poster_path}` : placeholder}\n          alt={title || name}\n        />\n        <p>{title || name}</p>\n      </Link>\n    </li>\n  ));\n\n  return <ul className={styles.list}>{element}</ul>;\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.object,\n  )\n}","import axios from 'axios';\n\nconst moviesInstance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: '5b615476b020779510a5261655f8ba93',\n    language: 'en-US',\n  },\n});\n\nexport const getMovies = () => {\n  return moviesInstance.get('/trending/all/week');\n};\n\nexport const getMovieById = id => {\n  return moviesInstance.get(`/movie/${id}`);\n};\n\nexport const getMovieCasts = id => {\n  return moviesInstance.get(`/movie/${id}/credits`);\n};\n\nexport const getMovieReview = id => {\n  return moviesInstance.get(`/movie/${id}/reviews`);\n};\n\nexport const getMoviesBySearchQuery = query => {\n  return moviesInstance.get('/search/movie', {\n    params: {\n      query,\n    },\n  });\n};\n","import { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst notification = message => {\n  toast.error(message, {\n    position: toast.POSITION.TOP_RIGHT,\n  });\n};\n\nexport default notification;\n"],"names":["initialState","onSubmit","useState","state","setState","handleInput","target","id","type","checked","value","prevState","handleSubmit","e","preventDefault","useForm","search","className","styles","onChange","required","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMoviesSearch","getMoviesBySearchQuery","data","results","length","notification","Container","trim","MoviesList","items","children","imgURL","location","useLocation","element","map","poster_path","title","name","to","from","src","placeholder","alt","moviesInstance","axios","baseURL","params","api_key","language","getMovies","getMovieById","getMovieCasts","getMovieReview","query","message","toast","position"],"sourceRoot":""}